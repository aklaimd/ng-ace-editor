"use strict";var i0=require("@angular/core"),forms=(require("brace"),require("brace/theme/monokai"),require("@angular/forms"));function _interopNamespaceDefault(n){var i=Object.create(null);return n&&Object.keys(n).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(n,e),Object.defineProperty(i,e,t.get?t:{enumerable:!0,get:function(){return n[e]}}))}),i.default=n,Object.freeze(i)}var i0__namespace=_interopNamespaceDefault(i0),AceEditorDirective=function(){function t(e,t){var n=this,i=(this.zone=t,this.textChanged=new i0.EventEmitter,this.textChange=new i0.EventEmitter,this._options={},this._readOnly=!1,this._theme="monokai",this._mode="html",this._autoUpdateContent=!0,this._durationBeforeCallback=0,this._text="",e.nativeElement);this.zone.runOutsideAngular(function(){n.editor=ace.edit(i)}),this.editor.$blockScrolling=1/0}return t.prototype.ngOnInit=function(){this.init(),this.initEvents()},t.prototype.ngOnDestroy=function(){this.editor.destroy()},t.prototype.init=function(){this.editor.setOptions(this._options||{}),this.editor.setTheme("ace/theme/".concat(this._theme)),this.setMode(this._mode),this.editor.setReadOnly(this._readOnly)},t.prototype.initEvents=function(){var e=this;this.editor.on("change",function(){return e.updateText()}),this.editor.on("paste",function(){return e.updateText()})},t.prototype.updateText=function(){var e=this,t=this.editor.getValue();t!==this.oldText&&(this._durationBeforeCallback?(null!=this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(function(){e._text=t,e.zone.run(function(){e.textChange.emit(t),e.textChanged.emit(t)}),e.timeoutSaving=null},this._durationBeforeCallback)):(this._text=t,this.zone.run(function(){e.textChange.emit(t),e.textChanged.emit(t)})),this.oldText=t)},Object.defineProperty(t.prototype,"options",{set:function(e){this._options=e,this.editor.setOptions(e||{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{set:function(e){this._readOnly=e,this.editor.setReadOnly(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"theme",{set:function(e){this._theme=e,this.editor.setTheme("ace/theme/".concat(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mode",{set:function(e){this.setMode(e)},enumerable:!1,configurable:!0}),t.prototype.setMode=function(e){this._mode=e,"object"==typeof this._mode?this.editor.getSession().setMode(this._mode):this.editor.getSession().setMode("ace/mode/".concat(this._mode))},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this.setText(e)},enumerable:!1,configurable:!0}),t.prototype.setText=function(e){this._text!==e&&(null==e&&(e=""),!0===this._autoUpdateContent)&&(this._text=e,this.editor.setValue(e),this.editor.clearSelection())},Object.defineProperty(t.prototype,"autoUpdateContent",{set:function(e){this._autoUpdateContent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"durationBeforeCallback",{set:function(e){this.setDurationBeforeCallback(e)},enumerable:!1,configurable:!0}),t.prototype.setDurationBeforeCallback=function(e){this._durationBeforeCallback=e},Object.defineProperty(t.prototype,"aceEditor",{get:function(){return this.editor},enumerable:!1,configurable:!0}),t.ɵfac=function(e){return new(e||t)(i0__namespace.ɵɵdirectiveInject(i0__namespace.ElementRef),i0__namespace.ɵɵdirectiveInject(i0__namespace.NgZone))},t.ɵdir=i0__namespace.ɵɵdefineDirective({type:t,selectors:[["","ace-editor",""]],inputs:{options:"options",readOnly:"readOnly",theme:"theme",mode:"mode",text:"text",autoUpdateContent:"autoUpdateContent",durationBeforeCallback:"durationBeforeCallback"},outputs:{textChanged:"textChanged",textChange:"textChange"}}),t}(),AceEditorComponent=("undefined"!=typeof ngDevMode&&!ngDevMode||i0__namespace.ɵsetClassMetadata(AceEditorDirective,[{type:i0.Directive,args:[{selector:"[ace-editor]"}]}],function(){return[{type:i0__namespace.ElementRef},{type:i0__namespace.NgZone}]},{textChanged:[{type:i0.Output}],textChange:[{type:i0.Output}],options:[{type:i0.Input}],readOnly:[{type:i0.Input}],theme:[{type:i0.Input}],mode:[{type:i0.Input}],text:[{type:i0.Input}],autoUpdateContent:[{type:i0.Input}],durationBeforeCallback:[{type:i0.Input}]}),function(){function t(e,t){var n=this,i=(this.zone=t,this.textChanged=new i0.EventEmitter,this.textChange=new i0.EventEmitter,this.style={},this._options={},this._readOnly=!1,this._theme="monokai",this._mode="html",this._autoUpdateContent=!0,this._durationBeforeCallback=0,this._text="",this._onChange=function(e){},this._onTouched=function(){},e.nativeElement);this.zone.runOutsideAngular(function(){n._editor=ace.edit(i)}),this._editor.$blockScrolling=1/0}return t.prototype.ngOnInit=function(){this.init(),this.initEvents()},t.prototype.ngOnDestroy=function(){this._editor.destroy()},t.prototype.init=function(){this.setOptions(this._options||{}),this.setTheme(this._theme),this.setMode(this._mode),this.setReadOnly(this._readOnly)},t.prototype.initEvents=function(){var e=this;this._editor.on("change",function(){return e.updateText()}),this._editor.on("paste",function(){return e.updateText()})},t.prototype.updateText=function(){var e=this,t=this._editor.getValue();t!==this.oldText&&(this._durationBeforeCallback?(this.timeoutSaving&&clearTimeout(this.timeoutSaving),this.timeoutSaving=setTimeout(function(){e._text=t,e.zone.run(function(){e.textChange.emit(t),e.textChanged.emit(t)}),e.timeoutSaving=null},this._durationBeforeCallback)):(this._text=t,this.zone.run(function(){e.textChange.emit(t),e.textChanged.emit(t)}),this._onChange(t)),this.oldText=t)},Object.defineProperty(t.prototype,"options",{set:function(e){this.setOptions(e)},enumerable:!1,configurable:!0}),t.prototype.setOptions=function(e){this._options=e,this._editor.setOptions(e||{})},Object.defineProperty(t.prototype,"readOnly",{set:function(e){this.setReadOnly(e)},enumerable:!1,configurable:!0}),t.prototype.setReadOnly=function(e){this._readOnly=e,this._editor.setReadOnly(e)},Object.defineProperty(t.prototype,"theme",{set:function(e){this.setTheme(e)},enumerable:!1,configurable:!0}),t.prototype.setTheme=function(e){this._theme=e,this._editor.setTheme("ace/theme/".concat(e))},Object.defineProperty(t.prototype,"mode",{set:function(e){this.setMode(e)},enumerable:!1,configurable:!0}),t.prototype.setMode=function(e){this._mode=e,"object"==typeof this._mode?this._editor.getSession().setMode(this._mode):this._editor.getSession().setMode("ace/mode/".concat(this._mode))},Object.defineProperty(t.prototype,"value",{get:function(){return this.text},set:function(e){this.setText(e)},enumerable:!1,configurable:!0}),t.prototype.writeValue=function(e){this.setText(e)},t.prototype.registerOnChange=function(e){this._onChange=e},t.prototype.registerOnTouched=function(e){this._onTouched=e},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){this.setText(e)},enumerable:!1,configurable:!0}),t.prototype.setText=function(e){this._text!==(e=null==e?"":e)&&!0===this._autoUpdateContent&&(this._text=e,this._editor.setValue(e),this._onChange(e),this._editor.clearSelection())},Object.defineProperty(t.prototype,"autoUpdateContent",{set:function(e){this.setAutoUpdateContent(e)},enumerable:!1,configurable:!0}),t.prototype.setAutoUpdateContent=function(e){this._autoUpdateContent=e},Object.defineProperty(t.prototype,"durationBeforeCallback",{set:function(e){this.setDurationBeforeCallback(e)},enumerable:!1,configurable:!0}),t.prototype.setDurationBeforeCallback=function(e){this._durationBeforeCallback=e},t.prototype.getEditor=function(){return this._editor},t.ɵfac=function(e){return new(e||t)(i0__namespace.ɵɵdirectiveInject(i0__namespace.ElementRef),i0__namespace.ɵɵdirectiveInject(i0__namespace.NgZone))},t.ɵcmp=i0__namespace.ɵɵdefineComponent({type:t,selectors:[["ace-editor"]],inputs:{style:"style",options:"options",readOnly:"readOnly",theme:"theme",mode:"mode",value:"value",text:"text",autoUpdateContent:"autoUpdateContent",durationBeforeCallback:"durationBeforeCallback"},outputs:{textChanged:"textChanged",textChange:"textChange"},features:[i0__namespace.ɵɵProvidersFeature([{provide:forms.NG_VALUE_ACCESSOR,useExisting:i0.forwardRef(function(){return t}),multi:!0}])],decls:0,vars:0,template:function(e,t){},styles:["[_nghost-%COMP%] { display:block;width:100%; }"]}),t}()),__spreadArray=("undefined"!=typeof ngDevMode&&!ngDevMode||i0__namespace.ɵsetClassMetadata(AceEditorComponent,[{type:i0.Component,args:[{selector:"ace-editor",template:"",providers:[{provide:forms.NG_VALUE_ACCESSOR,useExisting:i0.forwardRef(function(){return AceEditorComponent}),multi:!0}],styles:[":host { display:block;width:100%; }"]}]}],function(){return[{type:i0__namespace.ElementRef},{type:i0__namespace.NgZone}]},{textChanged:[{type:i0.Output}],textChange:[{type:i0.Output}],style:[{type:i0.Input}],options:[{type:i0.Input}],readOnly:[{type:i0.Input}],theme:[{type:i0.Input}],mode:[{type:i0.Input}],value:[{type:i0.Input}],text:[{type:i0.Input}],autoUpdateContent:[{type:i0.Input}],durationBeforeCallback:[{type:i0.Input}]}),function(e,t,n){if(n||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))}),list=[AceEditorComponent,AceEditorDirective],AceEditorModule=function(){function t(){}return t.ɵfac=function(e){return new(e||t)},t.ɵmod=i0__namespace.ɵɵdefineNgModule({type:t}),t.ɵinj=i0__namespace.ɵɵdefineInjector({}),t}();"undefined"!=typeof ngDevMode&&!ngDevMode||i0__namespace.ɵsetClassMetadata(AceEditorModule,[{type:i0.NgModule,args:[{declarations:__spreadArray([],list,!0),imports:[],providers:[],exports:list}]}],null,null),"undefined"!=typeof ngJitMode&&!ngJitMode||i0__namespace.ɵɵsetNgModuleScope(AceEditorModule,{declarations:[AceEditorComponent,AceEditorDirective],exports:[AceEditorComponent,AceEditorDirective]}),exports.AceEditorComponent=AceEditorComponent,exports.AceEditorDirective=AceEditorDirective,exports.AceEditorModule=AceEditorModule;